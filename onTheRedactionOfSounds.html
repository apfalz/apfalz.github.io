<html>
<head>
<title></title>
<link rel="stylesheet" href="stylesheetasdf.css" type="text/css">
</head>
<body onload="addBuffer()"
      onmousemove="getMousePosition(event)"
      onmousedown="firstPoint(x, y)"
      onmouseup="drawOnBuffer1(x,y), applyBuffer1ToCanvas2( )">
     <!-- menu divs -->

    <!-- canvases -->
<canvas id="redCanvas"; class="onTheRedactionCanvas"; width="900"; height="900";></canvas>  
<canvas id="greenCanvas"; class="onTheRedactionCanvas"; width="900"; height="900";></canvas>  

<script>
    var red = document.getElementById("redCanvas");
    var redCntxt = red.getContext("2d");
    redCntxt.fillStyle='red';
    redCntxt.fillRect(0, 0, red.width, red.height);
    
    var green = document.getElementById("greenCanvas");
    var greenCntxt = green.getContext("2d");
    greenCntxt.fillStyle='green';
    greenCntxt.fillRect(0, 0, green.width, green.height);

    function addBuffer() {
        buffer1 = document.createElement("canvas");
        buffer1.width = 900;
        buffer1.height = 900;
        buffer1cntxt = buffer1.getContext('2d');
        console.log("buffer was added");
    }
    
    function getMousePosition(event) {
        var area = red.getBoundingClientRect();
         x = event.clientX - area.left;
         y = event.clientY - area.top;
      }
 
    function firstPoint(x, y) {
        upperLeftX = x;
        upperLeftY = y;
    }
   
    /* combine masks (which would be image buffers) pass only differences on to lower masks, apply masks to differnt image layers.
    create a buffer which is a canvas in the DOM
    "double buffering"
    set properties of canvas
    get the 2d context of the buffer
    store the context in an array
    
    
    */
   
    function drawOnBuffer1(x, y) {
        finalX = x;
        finalY = y;
        buffer1cntxt.fillStyle='blue';
        buffer1cntxt.fillRect(upperLeftX, upperLeftY, (finalX - upperLeftX), (finalY - upperLeftY));
        console.log("cutAHole worked");
        redCntxt.clearRect(upperLeftX, upperLeftY, (finalX - upperLeftX), (finalY - upperLeftY));
    }
    
    function applyBuffer1ToCanvas2( ) {
        var imageInBuffer1 = buffer1cntxt.getImageData(0, 0, buffer1.width, buffer1.height);
    
        greenCntxt.globalCompositeOperation='destination-over';
        greenCntxt.putImageData(imageInBuffer1, 0, 0);
    }
    

        
    
</script>

      
  

    

     
</body>
</html>